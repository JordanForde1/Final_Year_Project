<!-- Reference:https://docs.djangoproject.com/en/1.11/intro/ -->
{% load leaflet_tags %}
<head>
    <!-- Map in center of the screen -->
    {% leaflet_js %}
    {% leaflet_css %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<h1>{{ questions.question_text }}</h1>
<body>

<div class="container" id="container">
    <strong> Yes and no votes!</strong>
        {% for choice in questions.choice_set.all %}
            <div class="progress">
                <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{ choice.votes }}%">{{ choice.choice_text }}</div>
            </div>
        {% endfor %}
</div>

<br />

<div class="container" id="container">
    <strong> Male and Female voters!</strong>
        {% for gender in questions.gender_set.all %}
            <div class="progress">
                <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{ gender.num }}%">{{ gender.gender_text }}</div>
            </div>
        {% endfor %}
</div>

<br />

<div class="container" id="container">
    <strong> Ages of voters!</strong>
        {% for age in questions.age_set.all %}
            <div class="progress">
                <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{ age.option }}%">{{ age.age_text }}</div>
            </div>
        {% endfor %}
</div>

<br />

<div class="container" id="container">
    <strong> Education of voters!</strong>
        {% for education in questions.education_set.all %}
            <div class="progress">
                <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{ education.number }}%">{{ education.education_text }}</div>
            </div>
        {% endfor %}
</div>

<br />

<div class="container" id="container">
    <strong> Religion of voters!</strong>
        {% for religion in questions.religion_set.all %}
            <div class="progress">
                <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{ religion.pick }}%">{{ religion.religion_text }}</div>
            </div>
        {% endfor %}
</div>

<br />

<div class="container" id="container">
    <strong> Ethnicity of voters!</strong>
        {% for ethnicity in questions.ethnicity_set.all %}
            <div class="progress">
                <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{ ethnicity.racenum }}%">{{ ethnicity.ethnicity_text }}</div>
            </div>
        {% endfor %}
</div>

<br />

<div class="container" id="container">
    <strong> Income of voters!</strong>
        {% for income in questions.income_set.all %}
            <div class="progress">
                <div class="progress-bar progress-bar-info" role="progressbar" style="width: {{ income.amount }}%">{{ income.income_text }}</div>
            </div>
        {% endfor %}
</div>

<br /><br />

<!-- initialising map-->
<div id="mapid">
{% leaflet_map "yourmap" callback="window.map_init_basic" %}
<style>
    #mapid{
      margin: auto;
      height: 10%;
      width: 60%;
      padding: 10px;
    }

    .leaflet-container {
        width: 600px;
        height: 400px;
    }
</style>
</div>
</body>
